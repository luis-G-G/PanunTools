# Update Perimeter IR

This tool automates the Perimeter/IR update process. It allows users to quickly import new perimeters and IR data into their Mobile GDB, calculate geometry, and properly attribute their data. It also has several toggles that provide additional functionality, including the ability to delete old features in the Mobile GDB, and create an updated 'Uncontained' feature, which will conform to the new perimeter and existing 'Contained' features.

Additionally, this tool can be used to inspect the new IR Heat Perimeter. If users select the "Inspect IR Heat Perimeter" option, the outputs generated by the tool will provide information about how the new IR Heat Perimeter differs from the Wildfire Daily Fire Perimeter currently in the Mobile GDB. Locations of perimeter growth and reduction will be identified, and the alignment of the two perimeter edges will be determined. Lastly, the alignment of Contained features will also be determined relative to the new IR Heat Perimeter. These outputs may be useful in identifying the presence of an accidental geometry shift in the IR data, or the need to make minor edits to the IR Heat Perimeter prior to running the "Update IR Data" option. The incident's Contained features should always align with the new IR Heat Perimeter, unless Ops has confirmed that the fire has actually burned across. **Due to the nature of how this tool was designed, it is highly recommended to always perform this inspection prior to running "Update IR Data"**

### How does it work?

To complete these processes, the tool performs a series of feature appends to the user's Mobile GDB from the specified Perimeter/IR feature classes. Any new data appended to the Mobile GDB will have attributes automatically filled with the user specified input values. 

Deletion of old features, and the creation of updated 'Uncontained' features is made possible by a series of selections that query the IRWINID and FeatureCategory fields. As such, users ***MUST*** properly attribute their data with the correct IRWINID and FeatureCategory. All features of the following FeatureCategory types must have correct IRWINIDs.

- Wildfire Daily Fire Perimeter
- Contained
- Uncontained
- IR Isolated Heat Source
- Possible IR Heat Source
- IR Intense Heat
- IR Scattered Heat


Additionally, for the updated 'Uncontained' features to be correct, the incident's 'Contained' features ***MUST*** match the fire perimeter's edge. If the newly generated 'Uncontained' features appear to be overlapping any 'Contained' features, this is a good indication that the incident's 'Contained' features do not match the fire perimeter's edge at these locations, and need to be cleaned up.

### User Inputs

1. Path to Mobile GDB
2. Incident Name
3. Incident IRWIN ID
4. Map Method
5. IR Flight Time (UTC)
6. IRIN Contact Name
7. IRIN Contact Email
8. IRIN Contact Phone
9. Coordinate System for Geometry Calculations
10. Desired Geometry Measurement Type
11. Scratch Directory
12. Path to Heat Perimter feature class
13. Toggle to merge new Heat Perimeter with old Wildfire Daily Fire Perimeter
14. Toggle to delete old Wildfire Daily Fire Perimeter
15. Toggle to delete old Fire Edge
16. Toggle to create updated Fire Edge
17. Path to IR Intense Heat feature class
18. Toggle to delete old IR Intense Heat features
19. Path to IR Isolated Heat feature class
20. Toggle to delete old IR Isolated Heat features
21. Path to Scattered Heat feature class
22. Toggle to delete old IR Scattered Heat features

![screenshot_UpdatePerimeterIR_1.png](/docs/screenshot_UpdatePerimeterIR_1.png?raw=true)



